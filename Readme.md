# Тестовое задание на позицию стажера DevOps в Газпром

### Задача

Даны несколько приложений следующей структуры:

```
.
└── dir_application/
    ├── bin/
    │   ├── application_name
    │   └── application_name.bat
    ├── conf/
    │   ├── application.conf
    │   └── params.conf
    └── lib/
        ├── lib1.jar
        ├── lib2.jar
        └── libN.jar
```

Требуется
а) Описать systemd юниты для запуска app1 и двух экземпляров app2 после запуска app1;
б) Сделать то же самое с помощью docker compose.

При запуске приложений должен указываться порт, а для корректной работы должна быть объявлена переменная среды JAVA_OPTS.

### systemd

Запуск сервисов реализован с помощью таргета. Значения JAVA_OPTS задаются внутри файлов сервисов, как и порт для app1. Порты для app2 передаются через аргумент экземпляра в app.target. Для работы нужно поместить файлы из ./systemd/ в /etc/systemd/system и указать рабочие директории для приложений (должны быть директориями, обозначенными dir_application на схеме).

### Docker compose

Все нужные переменные задаются в docker-compose.yml. По умолчанию в каждом сервисе указан 80 порт, который пробрасывается на 9001, 9002 и 9003 порты (app1, app2_inst1 и app2_inst2 соответственно).

